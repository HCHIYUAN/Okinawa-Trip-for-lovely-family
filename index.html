<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥³ç‹çš„æ²–ç¹©ç”Ÿæ—¥ä¹‹æ—…</title>
    <!-- å¼•å…¥ React å’Œ Tailwind -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@700&display=swap'); /* åœ“æ½¤å¯æ„›å­—é«” */
        
        body { font-family: 'Noto Sans TC', sans-serif; }
        .font-script { font-family: 'Dancing Script', cursive; }
        .font-cute { font-family: 'Zen Maru Gothic', sans-serif; }
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* ç…™ç«èˆ‡ç²’å­å‹•ç•« */
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        .animate-sparkle { animation: sparkle 2s infinite; }
        
        /* åœ°åœ–è·¯å¾‘å‹•ç•« */
        @keyframes draw-line {
            to { stroke-dashoffset: 0; }
        }
        .path-draw {
            stroke-dasharray: 30;
            stroke-dashoffset: 1000;
            animation: draw-line 2.5s ease-out forwards;
        }

        /* ç»ç’ƒæ“¬æ…‹ */
        .glass-panel {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body class="bg-[#fff0f5] text-gray-800">
    <div id="root"></div>

    <script type="text/babel">
        // --- åŸºç¤åœ–æ¨™ ---
        const Icon = ({ path, color = "currentColor", size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        // --- SVG æ’åœ– (è£é£¾åœ°åœ–ç”¨) ---
        const WhaleShark = () => (
            <g transform="translate(160, 60) scale(0.8)">
                <path d="M10,30 Q40,10 80,20 T120,50 Q130,60 110,70 T50,75 Q20,75 10,60 Z" fill="#607d8b" />
                <circle cx="30" cy="45" r="2" fill="white" opacity="0.8"/>
                <circle cx="50" cy="40" r="3" fill="white" opacity="0.8"/>
                <circle cx="70" cy="50" r="2" fill="white" opacity="0.8"/>
                <path d="M110,70 L130,80 L120,60 Z" fill="#607d8b" />
            </g>
        );

        const Hibiscus = ({x, y, scale=1}) => (
            <g transform={`translate(${x}, ${y}) scale(${scale})`}>
                <path d="M20,20 Q30,0 40,20 T60,20 Q70,40 50,50 T30,70 Q10,50 20,20" fill="#ff8a80" opacity="0.8"/>
                <circle cx="40" cy="40" r="5" fill="#ffd54f"/>
            </g>
        );

        // --- åŠŸèƒ½åœ–æ¨™ ---
        const Heart = (props) => <Icon {...props} path={<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>} />;
        const Coffee = (props) => <Icon {...props} path={<><path d="M18 8h1a4 4 0 0 1 0 8h-1"></path><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"></path><line x1="6" y1="1" x2="6" y2="4"></line><line x1="10" y1="1" x2="10" y2="4"></line><line x1="14" y1="1" x2="14" y2="4"></line></>} />;
        const Utensils = (props) => <Icon {...props} path={<><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path></>} />;
        const Baby = (props) => <Icon {...props} path={<><circle cx="12" cy="5" r="3"></circle><path d="M9 12h6"></path><path d="M14.5 18a2.5 2.5 0 0 0-5 0"></path><path d="M6 10v4a4 4 0 0 0 4 4h4a4 4 0 0 0 4-4v-4"></path></>} />; 
        const MapPin = (props) => <Icon {...props} path={<><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></>} />;
        const ShoppingBag = (props) => <Icon {...props} path={<><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></>} />;
        const Sun = (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></>} />;
        const Gift = (props) => <Icon {...props} path={<><polyline points="20 12 20 22 4 22 4 12"></polyline><rect x="2" y="7" width="20" height="5"></rect><line x1="12" y1="22" x2="12" y2="7"></line><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path></>} />;
        const Music = (props) => <Icon {...props} path={<><path d="M9 18V5l12-2v13"></path><circle cx="6" cy="18" r="3"></circle><circle cx="18" cy="16" r="3"></circle></>} />;
        const Star = (props) => <Icon {...props} path={<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>} />;
        const Fish = (props) => <Icon {...props} path={<path d="M20.3 19.3L15.4 15.4C15.1 15.1 14.7 15 14.2 15H14C12.9 15 12 14.1 12 13V12C12 10.9 12.9 10 14 10H14.2C14.7 10 15.1 9.9 15.4 9.6L20.3 5.7C20.9 5.2 22 5.5 22 6.4V18.7C22 19.5 20.9 19.9 20.3 19.3ZM6 13C3.8 13 2 11.2 2 9C2 6.8 3.8 5 6 5C8.2 5 10 6.8 10 9C10 11.2 8.2 13 6 13Z"></path>} />;
        const Car = (props) => <Icon {...props} path={<path d="M14 16H9m10-9h-4l-1-2H10L9 7H5a2 2 0 0 0-2 2v6h2m14 0h2v-6a2 2 0 0 0-2-2ZM7 16a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm14 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"></path>} />;
        const Home = (props) => <Icon {...props} path={<><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></>} />;
        const MapIcon = (props) => <Icon {...props} path={<><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon><line x1="8" y1="2" x2="8" y2="18"></line><line x1="16" y1="6" x2="16" y2="22"></line></>} />;
        const Cake = (props) => <Icon {...props} path={<><path d="M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8"></path><path d="M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1"></path><path d="M2 21h20"></path><path d="M7 8v2"></path><path d="M12 8v2"></path><path d="M17 8v2"></path><path d="M7 4h.01"></path><path d="M12 4h.01"></path><path d="M17 4h.01"></path></>} />;

        // --- è¯éº—é–‹å ´å‹•ç•« ---
        const WelcomeScreen = ({ onStart }) => {
            const [showBtn, setShowBtn] = React.useState(false);

            React.useEffect(() => {
                setTimeout(() => setShowBtn(true), 3000);
            }, []);

            return (
                <div className="fixed inset-0 z-50 bg-[#2b2d42] text-white flex flex-col items-center justify-center overflow-hidden">
                    {/* èƒŒæ™¯ç²’å­ */}
                    {[...Array(30)].map((_, i) => (
                        <div key={i} className="absolute rounded-full bg-white animate-sparkle" style={{
                            width: Math.random() * 4 + 1 + 'px',
                            height: Math.random() * 4 + 1 + 'px',
                            top: Math.random() * 100 + '%',
                            left: Math.random() * 100 + '%',
                            animationDelay: Math.random() * 2 + 's',
                            opacity: 0.3
                        }}></div>
                    ))}
                    
                    {/* ç…™ç«æ•ˆæœ (CSSæ¨¡æ“¬) */}
                    <div className="absolute inset-0 pointer-events-none">
                        <div className="absolute top-1/4 left-1/4 w-2 h-2 bg-rose-400 rounded-full animate-ping opacity-75 duration-1000"></div>
                        <div className="absolute top-1/3 right-1/4 w-3 h-3 bg-yellow-400 rounded-full animate-ping opacity-75 delay-500 duration-1000"></div>
                        <div className="absolute bottom-1/3 left-1/3 w-2 h-2 bg-blue-400 rounded-full animate-ping opacity-75 delay-1000 duration-1000"></div>
                    </div>

                    <div className="z-10 text-center space-y-6">
                        <div className="opacity-0 animate-[fadeIn_1s_ease-out_forwards]">
                            <p className="text-xl font-script text-rose-300 tracking-widest mb-2">To My Dearest Queen</p>
                        </div>
                        
                        <div className="opacity-0 animate-[scaleIn_1s_ease-out_0.8s_forwards]">
                            <h1 className="text-6xl md:text-8xl font-script bg-gradient-to-r from-rose-300 via-pink-400 to-rose-300 bg-clip-text text-transparent drop-shadow-[0_0_15px_rgba(244,63,94,0.5)]">
                                Happy Birthday
                            </h1>
                        </div>

                        <div className="opacity-0 animate-[slideUp_1s_ease-out_1.8s_forwards]">
                            <div className="flex items-center justify-center gap-2 text-rose-100/80 font-cute text-lg tracking-wider">
                                <span>âœ¦ æ²–ç¹©</span>
                                <span>â€¢</span>
                                <span>è¦ªå­</span>
                                <span>â€¢</span>
                                <span>å¥³ç‹ä¹‹æ—… âœ¦</span>
                            </div>
                        </div>

                        {showBtn && (
                            <button 
                                onClick={onStart}
                                className="mt-12 group relative px-8 py-3 bg-gradient-to-r from-rose-500 to-pink-600 rounded-full font-bold shadow-[0_0_20px_rgba(225,29,72,0.6)] hover:shadow-[0_0_30px_rgba(225,29,72,0.8)] hover:scale-105 transition-all duration-300 overflow-hidden"
                            >
                                <div className="absolute inset-0 bg-white/20 group-hover:translate-x-full duration-500 transform -skew-x-12 -translate-x-full"></div>
                                <span className="flex items-center gap-2 text-white">
                                    é–‹å•Ÿæ—…ç¨‹ <Gift size={18} />
                                </span>
                            </button>
                        )}
                    </div>
                    
                    <style>{`
                        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
                        @keyframes scaleIn { from { opacity: 0; transform: scale(0.8); } to { opacity: 1; transform: scale(1); } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
                    `}</style>
                </div>
            );
        };

        // --- æ˜“è®€ç‰ˆåœ°åœ–çµ„ä»¶ ---
        const ReadableMap = ({ day }) => {
            const zones = [
                { id: 'north', name: 'åŒ—éƒ¨ Area', color: '#e8f5e9', border: '#a5d6a7', label: 'åè­·ãƒ»æ°´æ—é¤¨' }, // ç¶ è‰²
                { id: 'central', name: 'ä¸­éƒ¨ Area', color: '#fff3e0', border: '#ffcc80', label: 'ç¾åœ‹æ‘ãƒ»Rycom' }, // æ©˜è‰²
                { id: 'south', name: 'å—éƒ¨ Area', color: '#e3f2fd', border: '#90caf9', label: 'é‚£éœ¸ãƒ»æ©Ÿå ´' }   // è—è‰²
            ];

            const spots = {
                'churaumi': { y: 50, zone: 'north', name: 'ç¾éº—æµ·æ°´æ—é¤¨', type: 'spot' },
                'nago': { y: 120, zone: 'north', name: 'åè­· Aeon', type: 'shop' },
                'kyoda': { y: 150, zone: 'north', name: 'è¨±ç”°ä¼‘æ¯ç«™', type: 'food' },
                'miyazato': { y: 100, zone: 'north', name: 'å®®é‡Œéºµ', type: 'food' },
                
                'zoo': { y: 220, zone: 'central', name: 'å…’ç«¥ç‹åœ‹', type: 'kids' },
                'rycom': { y: 250, zone: 'central', name: 'Aeon Rycom', type: 'shop' },
                'vessel': { y: 280, zone: 'central', name: 'Vessel Hotel', type: 'stay' },
                'shabu': { y: 300, zone: 'central', name: 'Aguè±¬æ¶®æ¶®é‹', type: 'food' }, // æ–°å¢
                'ryukyu': { y: 310, zone: 'central', name: 'ç‰çƒä¹‹ç‰›', type: 'food' },   // æ–°å¢
                'ohacorte': { y: 340, zone: 'central', name: 'oHacortÃ©', type: 'food' },
                'suien': { y: 320, zone: 'central', name: 'æ°´åœ“éºµåŒ…', type: 'food' },
                
                'parco': { y: 400, zone: 'south', name: 'Parco City', type: 'shop' },
                'airport': { y: 500, zone: 'south', name: 'é‚£éœ¸æ©Ÿå ´', type: 'transport' },
                'rental': { y: 530, zone: 'south', name: 'ç§Ÿè»Š/DMM', type: 'kids' },
            };

            const dailyRoutes = {
                'day1': ['airport', 'rental', 'vessel'],
                'day2': ['vessel', 'zoo', 'rycom', 'vessel', 'shabu'], // Day 2 æ™šé¤æ”¹é‹ç‰©
                'day3': ['vessel', 'kyoda', 'miyazato', 'churaumi', 'nago', 'vessel'],
                'day4': ['vessel', 'suien', 'parco', 'ohacorte', 'vessel', 'ryukyu'], // Day 4 æ™šé¤æ”¹ç‰çƒä¹‹ç‰›
                'day5': ['vessel', 'rental', 'airport']
            };

            const activeRoute = dailyRoutes[day] || [];

            // æ¨™è¨˜é¡è‰²
            const typeColors = {
                shop: 'bg-red-400', food: 'bg-orange-400', kids: 'bg-green-400', 
                stay: 'bg-cyan-500', transport: 'bg-gray-500', spot: 'bg-purple-400'
            };

            // ç¹ªè£½é€£ç·šè·¯å¾‘ (SVG)
            const generatePath = () => {
                if (activeRoute.length < 2) return "";
                // ç°¡å–®çš„å‚ç›´ç·šé€£æ¥
                return activeRoute.map((k, i) => {
                    const s = spots[k];
                    return `${i===0?'M':'L'} 50 ${s.y}`; 
                }).join(" ");
            };

            return (
                <div className="bg-white rounded-3xl shadow-lg border border-pink-100 overflow-hidden flex flex-col h-[600px]">
                    <div className="bg-rose-50 p-3 text-center border-b border-rose-100">
                        <h3 className="font-bold text-rose-600 flex items-center justify-center gap-2">
                            <MapIcon size={18}/> Day {day.replace('day','')} è¡Œè»Šè·¯ç·š
                        </h3>
                    </div>
                    
                    {/* å¯æ²å‹•åœ°åœ–å€åŸŸ */}
                    <div className="flex-1 overflow-y-auto relative bg-[#f8f9fa] scroll-smooth">
                        {/* å€åŸŸèƒŒæ™¯å±¤ */}
                        <div className="absolute inset-0 w-full h-[600px] flex flex-col">
                            {zones.map(z => (
                                <div key={z.id} className="flex-1 flex border-b border-dashed border-gray-300 relative" 
                                     style={{backgroundColor: z.color}}>
                                    <div className="absolute right-2 top-2 text-xs font-bold px-2 py-1 rounded bg-white/60 text-gray-500 shadow-sm border"
                                         style={{borderColor: z.border}}>
                                        {z.label}
                                    </div>
                                    {/* è£é£¾èŠ±æœµ */}
                                    {z.id === 'north' && <div className="absolute left-2 top-10 opacity-30"><WhaleShark/></div>}
                                    {z.id === 'central' && <div className="absolute right-10 bottom-10 opacity-30"><Hibiscus/></div>}
                                </div>
                            ))}
                        </div>

                        {/* è·¯ç·šèˆ‡æ¨™é»å±¤ */}
                        <div className="absolute inset-0 w-full h-[600px]">
                            <svg width="100%" height="100%">
                                {/* è·¯ç·š */}
                                <path d={generatePath()} fill="none" stroke="#f43f5e" strokeWidth="4" 
                                      strokeLinecap="round" strokeLinejoin="round" strokeDasharray="10,6"
                                      className="path-draw" />
                            </svg>

                            {/* æ¨™ç±¤åœ–å±¤ */}
                            {activeRoute.map((key, index) => {
                                const s = spots[key];
                                const isStart = index === 0;
                                const isEnd = index === activeRoute.length - 1;
                                
                                return (
                                    <div key={index} className="absolute left-[50px] transform -translate-x-1/2 flex items-center group"
                                         style={{top: s.y - 15 + 'px'}}>
                                        
                                        {/* åœ“é» */}
                                        <div className={`w-6 h-6 rounded-full border-4 border-white shadow-md z-10 flex items-center justify-center transition-transform group-hover:scale-110 ${typeColors[s.type]} ${isStart || isEnd ? 'animate-bounce' : ''}`}>
                                            {isStart && <div className="w-2 h-2 bg-white rounded-full"></div>}
                                        </div>

                                        {/* æ–‡å­—æ¨™ç±¤ (å¡ç‰‡å¼ï¼Œè¶…æ¸…æ¥š) */}
                                        <div className="absolute left-8 bg-white px-3 py-2 rounded-xl shadow-md border border-gray-100 flex flex-col min-w-[120px]">
                                            <span className="text-xs text-gray-400 font-bold uppercase tracking-wider">{s.type === 'shop' ? 'è³¼ç‰©' : s.type === 'food' ? 'ç¾é£Ÿ' : s.type === 'kids' ? 'è¦ªå­' : s.type === 'stay' ? 'ä½å®¿' : 'æ™¯é»'}</span>
                                            <span className="text-sm font-bold text-gray-800 whitespace-nowrap">{s.name}</span>
                                            {/* åºè™Ÿ */}
                                            <div className="absolute -left-2 top-1/2 -translate-y-1/2 w-0 h-0 border-t-[6px] border-t-transparent border-b-[6px] border-b-transparent border-r-[8px] border-r-white"></div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                </div>
            );
        };

        const ItineraryApp = () => {
            const [showIntro, setShowIntro] = React.useState(true);
            const [view, setView] = React.useState('itinerary'); 
            const [activeTab, setActiveTab] = React.useState('day1');

            if (showIntro) {
                return <WelcomeScreen onStart={() => setShowIntro(false)} />;
            }

            const itinerary = {
                day1: {
                    date: '12/23 (ä¸€)',
                    title: 'å•Ÿç¨‹èˆ‡è–èª•åˆå¤œ',
                    highlight: 'è¯èˆªç›´é£› & ç¾åœ‹æ‘',
                    details: [
                        { time: '15:50', activity: 'é£›æ©Ÿèµ·é£› (CI132)', icon: <Icon path={<path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>} className="text-blue-500" />, note: 'é«˜é›„å‡ºç™¼ï¼Œ18:30 æŠµé”é‚£éœ¸' },
                        { time: '19:00', activity: 'å–è»Šï¼šè‡¨ç©ºè±å´ç‡Ÿæ¥­æ‰€', icon: <Car className="text-green-600" />, note: 'è¨˜å¾—å»åœ‹å…§ç·š 10-A æ­æ¥é§è»Šã€‚ä¿éšªå·²ä¿å…¨éšªã€‚' },
                        { time: '20:30', activity: 'å…¥ä½ Vessel Hotel', icon: <Star className="text-yellow-500" />, note: 'Annex è±ªè¯æµ·æ™¯æˆ¿ï¼Check-in ä¼‘æ¯' },
                        { time: '21:00', activity: 'è¼•é¬†æ™šé¤ & æ•£æ­¥', icon: <Utensils className="text-red-400" />, note: 'A&W æ¼¢å ¡ï¼Œæ•£æ­¥çœ‹ Depot Island è–èª•ç‡ˆé£¾' }
                    ]
                },
                day2: {
                    date: '12/24 (äºŒ)',
                    title: 'å¹³å®‰å¤œï¼šè¦ªå­èˆ‡å¤§é¤',
                    highlight: 'å…’ç«¥ç‹åœ‹ & æ¶®æ¶®é‹',
                    details: [
                        { time: '09:00', activity: 'é£¯åº—æ—©é¤', icon: <Coffee className="text-amber-600" />, note: 'äº«ç”¨è±å¯Œåœ¨åœ°æ–™ç†' },
                        { time: '09:40', activity: 'æ²–ç¹©å…’ç«¥ç‹åœ‹', icon: <Baby className="text-orange-500" />, note: 'é¤µå‹•ç‰©ã€çœ‹å¤§è±¡ï¼Œå¥³å…’æ”¾é›»å¤©å ‚' },
                        { time: '12:30', activity: 'Aeon Rycom', icon: <ShoppingBag className="text-blue-400" />, note: 'åˆé¤èˆ‡é€›è¡—ï¼Œä¸çœ‹é«˜çˆ¾å¤«ï¼Œå°ˆå¿ƒé™ªå®¶äºº' },
                        { time: '18:30', activity: 'Aguè±¬æ¶®æ¶®é‹', icon: <Gift className="text-red-500" />, note: 'ã€å³¶ä»€éŒ¦é‹ç‰©ã€‘æ¸…çˆ½æ¹¯é ­ç…®é®®ç”œAguè±¬ï¼Œæº«æš–åˆå¥åº·ï¼Œå¤ªåº§æœ€æ„›ï¼' }
                    ]
                },
                day3: {
                    date: '12/25 (ä¸‰)',
                    title: 'è–èª•ç¯€ï¼šåŒ—éƒ¨å…œé¢¨',
                    highlight: 'é¯¨é¯Šé¤µé£Ÿç§€ & å®®é‡Œéºµ',
                    details: [
                        { time: '11:00', activity: 'è¨±ç”°ä¼‘æ¯ç«™', icon: <MapPin className="text-green-600" />, note: 'ä¸­é€”ä¼‘æ¯ï¼Œè²·å„ªæƒ ç¥¨' },
                        { time: '12:00', activity: 'å®®é‡Œéºµ', icon: <Utensils className="text-red-400" />, note: 'åè­·åœ¨åœ°ç¾é£Ÿï¼Œæ¦»æ¦»ç±³åº§ä½' },
                        { time: '15:00', activity: 'ç¾éº—æµ·æ°´æ—é¤¨', icon: <Fish className="text-indigo-500" />, note: 'é»‘æ½®ä¹‹æµ·é¤µé£Ÿç§€ (å¿…çœ‹)' },
                        { time: '18:00', activity: 'Aeon Nago æ™šé¤', icon: <ShoppingBag className="text-blue-400" />, note: 'è¼•é¬†åƒæ™šé¤å†å›é£¯åº—' }
                    ]
                },
                day4: {
                    date: '12/26 (å››)',
                    title: 'å¥³ç‹çš„æ…¢æ´»æ—¥',
                    highlight: 'æ°´åœ“ & ç‰çƒä¹‹ç‰›',
                    details: [
                        { time: '10:30', activity: 'æ°´åœ“éºµåŒ… (Suien)', icon: <Heart className="text-pink-500" />, note: 'ç«¥è©±æ£®æ—è²·éºµåŒ…' },
                        { time: '12:00', activity: 'Parco City', icon: <ShoppingBag className="text-purple-500" />, note: 'é˜¿å¡å°‡ã€è¥¿æ¾å±‹è£œè²¨' },
                        { time: '13:30', activity: 'oHacortÃ© æ¸¯å·åº—', icon: <Cake className="text-rose-500" />, note: 'ã€é‡é»ã€‘è¶…ç¾å¤–äººä½å®…å€ï¼Œäº«ç”¨å¤¢å¹»æ°´æœå¡”' },
                        { time: '16:00', activity: 'Zhyvago Coffee', icon: <Coffee className="text-orange-400" />, note: 'å›ç¾åœ‹æ‘ï¼Œé»æ¯å’–å•¡çœ‹å¤•é™½' },
                        { time: '18:30', activity: 'ç‰çƒä¹‹ç‰› (åŒ—è°·åº—)', icon: <Utensils className="text-red-400" />, note: 'ã€å¿…åƒã€‘æ²–ç¹©ç‡’è‚‰å¤©èŠ±æ¿ï¼é ‚ç´šè‚‰è³ªå…¥å£å³åŒ–ï¼Œçµ•å°é›£å¿˜ã€‚' }
                    ]
                },
                day5: {
                    date: '12/27 (äº”)',
                    title: 'ç”Ÿæ—¥å¿«æ¨‚ & æ­¸é€”',
                    highlight: 'DMM æ°´æ—é¤¨ & æ…¶ç”Ÿ',
                    details: [
                        { time: '08:00', activity: 'ç”Ÿæ—¥å¿«æ¨‚ï¼', icon: <Gift className="text-pink-500" />, note: 'é£¯åº—æ—©é¤æ…¶ç”Ÿ' },
                        { time: '10:30', activity: 'DMM æ°´æ—é¤¨ (iias)', icon: <Music className="text-blue-500" />, note: 'å®¤å…§æ°´æ—é¤¨ï¼Œè¸©é€æ˜åœ°æ¿' },
                        { time: '13:00', activity: 'æ•˜æ•˜è‹‘ç‡’è‚‰', icon: <Star className="text-yellow-500" />, note: 'ç”Ÿæ—¥å¤§é¤ (iias å•†å ´å…§)' },
                        { time: '17:00', activity: 'é‚„è»Š', icon: <Car className="text-gray-500" />, note: 'è‡¨ç©ºè±å´ç‡Ÿæ¥­æ‰€é‚„è»Š' },
                        { time: '19:30', activity: 'é£›æ©Ÿèµ·é£› (CI133)', icon: <Icon path={<path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>} className="text-blue-500" />, note: 'å¸¶è‘—æ»¿æ»¿å›æ†¶å›å®¶' }
                    ]
                }
            };

            const essentials = [
                { title: 'å¥³ç‹æœ€æ„›', items: ['æ°´åœ“é„‰æ‘éºµåŒ…', 'oHacortÃ© æ°´æœå¡”', 'ç‰çƒä¹‹ç‰›'] },
                { title: 'å¯¶å¯¶å°ˆå€', items: ['å…’ç«¥ç‹åœ‹', 'èŒ¶ç¢—è’¸ & çƒé¾éºµ', 'DMM ä¼éµ'] },
                { title: 'çˆ¸çˆ¸ä»»å‹™', items: ['å®‰å…¨é§•é§›', 'è² è²¬é¡§å°å­©', 'ææˆ°åˆ©å“'] },
            ];

            return (
                <div className="min-h-screen bg-pink-50 pb-20 fade-enter-active">
                    <header className="bg-gradient-to-r from-pink-300 to-rose-400 text-white p-6 rounded-b-[30px] shadow-lg relative overflow-hidden">
                        <div className="absolute top-0 right-0 opacity-20 transform translate-x-10 -translate-y-10">
                            <Heart size={150} color="white" />
                        </div>
                        <div className="relative z-10">
                            <h1 className="text-2xl font-bold mb-1 font-cute">å¥³ç‹çš„æ²–ç¹©ç”Ÿæ—¥ä¹‹æ—…</h1>
                            <p className="text-sm opacity-90">12/23 - 12/27 ï½œ 5 Days 4 Nights</p>
                            
                            <div className="mt-4 bg-white/20 backdrop-blur-md rounded-xl p-3 text-sm space-y-2 border border-white/30">
                                <div className="flex items-center gap-2">
                                    <Icon path={<path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>} size={16} />
                                    <span>CI132 (15:50) / CI133 (19:30)</span>
                                </div>
                                <div className="flex items-center gap-2">
                                    <Car size={16} />
                                    <span>å–è»Šï¼š12/23 19:00 (æ¥é§ï¼šåœ‹å…§ç·š 10-A)</span>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="flex justify-center mt-4 gap-4 px-4">
                        <button onClick={() => setView('itinerary')} className={`flex-1 py-2 rounded-full font-bold transition-all flex items-center justify-center gap-2 shadow-sm ${view === 'itinerary' ? 'bg-rose-500 text-white shadow-rose-200' : 'bg-white text-gray-500'}`}>
                            <Home size={18} /> è¡Œç¨‹è¡¨
                        </button>
                        <button onClick={() => setView('map')} className={`flex-1 py-2 rounded-full font-bold transition-all flex items-center justify-center gap-2 shadow-sm ${view === 'map' ? 'bg-cyan-500 text-white shadow-cyan-200' : 'bg-white text-gray-500'}`}>
                            <MapIcon size={18} /> åœ°åœ–æ¨¡å¼
                        </button>
                    </div>

                    <div className="flex overflow-x-auto p-4 gap-3 no-scrollbar snap-x sticky top-0 z-20 bg-pink-50/95 backdrop-blur-sm">
                        {Object.entries(itinerary).map(([key, day]) => (
                            <button key={key} onClick={() => setActiveTab(key)} className={`snap-center flex-shrink-0 px-5 py-3 rounded-xl transition-all shadow-sm border ${activeTab === key ? (view === 'map' ? 'bg-cyan-500 text-white border-cyan-500' : 'bg-rose-500 text-white border-rose-500') : 'bg-white text-gray-600 border-gray-100'}`}>
                                <div className="text-xs font-medium opacity-80">{day.date}</div>
                                <div className="font-bold text-sm">{key === 'day5' ? 'ğŸ‚ ç”Ÿæ—¥' : `Day ${key.replace('day', '')}`}</div>
                            </button>
                        ))}
                    </div>

                    <main className="px-4 animate-fade-in-up pb-10">
                        {view === 'itinerary' ? (
                            <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-pink-100">
                                <div className="bg-rose-50 p-5 border-b border-rose-100">
                                    <h2 className="text-xl font-bold text-gray-800 flex items-center gap-2 font-cute">
                                        {itinerary[activeTab].title}
                                        {activeTab === 'day5' && <span className="animate-bounce"><Gift className="text-rose-500" size={20} /></span>}
                                    </h2>
                                    <div className="mt-2 flex items-center gap-2 text-rose-600 text-sm font-medium bg-white px-3 py-1 rounded-full w-fit shadow-sm">
                                        <Star size={14} className="text-rose-600" />
                                        <span>äº®é»ï¼š{itinerary[activeTab].highlight}</span>
                                    </div>
                                </div>
                                <div className="p-5 space-y-6">
                                    {itinerary[activeTab].details.map((item, index) => (
                                        <div key={index} className="flex gap-4 relative">
                                            {index !== itinerary[activeTab].details.length - 1 && (
                                                <div className="absolute left-[19px] top-8 bottom-[-24px] w-0.5 bg-gray-100"></div>
                                            )}
                                            <div className="relative z-10 w-10 h-10 rounded-full bg-white border-2 border-pink-100 flex items-center justify-center shadow-sm shrink-0">
                                                {item.icon}
                                            </div>
                                            <div className="flex-1 pt-1">
                                                <div className="flex items-center gap-2 mb-1">
                                                    <span className="text-sm font-bold text-rose-500 bg-rose-50 px-2 py-0.5 rounded">{item.time}</span>
                                                    <h3 className="font-bold text-gray-800">{item.activity}</h3>
                                                </div>
                                                <p className="text-gray-600 text-sm leading-relaxed bg-gray-50 p-3 rounded-lg border border-gray-100">
                                                    {item.note}
                                                </p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ) : (
                            <ReadableMap day={activeTab} />
                        )}

                        {view === 'itinerary' && (
                            <div className="mt-8 grid grid-cols-1 gap-4">
                                <h3 className="text-lg font-bold text-gray-700 ml-1 font-cute">æ—…è¡Œå°è²¼å£«</h3>
                                {essentials.map((section, idx) => (
                                    <div key={idx} className="bg-white p-5 rounded-xl shadow-sm border border-gray-100">
                                        <h4 className="font-bold text-gray-800 mb-3 flex items-center gap-2">
                                            {idx === 0 && <Heart className="text-rose-400" size={18}/>}
                                            {idx === 1 && <Baby className="text-blue-400" size={18}/>}
                                            {idx === 2 && <ShoppingBag className="text-green-600" size={18}/>}
                                            {section.title}
                                        </h4>
                                        <div className="flex flex-wrap gap-2">
                                            {section.items.map((item, i) => (
                                                <span key={i} className="text-xs font-medium px-3 py-1.5 bg-gray-50 text-gray-600 rounded-full border border-gray-200">
                                                    {item}
                                                </span>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </main>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<ItineraryApp />);
    </script>
</body>
</html>
